<section>
	<h1>PlayerPrefs</h1>
	<a class="lien" href="https://docs.unity3d.com/ScriptReference/PlayerPrefs.html" target="_blank" title="">Doc officielle : PlayerPrefs</a>
	<div class="blocSommaire">
		<p>Sommaire</p>
		<ol id="sommaire">
			<li><a href="#presentation">Présentation</a></li>
			<li><a href="#emplacement">Emplacement</a></li>
		</ol>
	</div>
</section>
<section id="presentation">
	<h2>Présentation</h2>
	<p>Les <i><strong>PlayerPrefs</strong></i> permettent d'enregistrer des informations de type <strong>préférences utilisateur</strong> sur le disque dur dans un petit fichier.</p>
	<p>C’est un <code>dictionary</code> enregistrant les données par <strong>paires clé-valeur</strong>, uniquement des <code>float</code>, <code>int</code> et <code>string</code>.</p>
	<p>Au <code>Start()</code>, vérifier les clés :</p>
	<pre><code>
void Start()
{
	if(PlayerPrefs.HasKey(&quot;Volume&quot;))
	{
		_myAudioSource.volume = PlayerPrefs.GetFloat(&quot;Volume&quot;);
	}
}
	</code></pre>
	<p>Pour créer ou mettre à jour :</p>
	<pre><code>
PlayerPrefs.SetFloat(&quot;Volume&quot;, 0.5f) ;
PlayerPrefs.Save(); // enregistre et gère l’existence du fichier texte
	</code></pre>
	<p>Pour <strong>effacer une clé</strong> :</p>
	<pre><code>
if(Input.GetMouseButtonDown(0))
{
	PlayerPrefs.DeleteKey(&quot;Volume&quot;);
}
	</code></pre>
	<p>Pour <strong>effacer toutes les clés</strong> (le fichier n'est pas effacé) :</p>
	<pre><code>
if(Input.GetMouseButtonDown(1))
{
	PlayerPrefs.DeleteAll();
}
	</code></pre>
</section>
<section id="emplacement">
	<h2>Emplacement</h2>
	<p>Posons le code suivant :</p>
	<pre><code>
PlayerPrefs.SetInt(&quot;test int&quot;, 34) ;
PlayerPrefs.Save() ;
	</code></pre>
	<p>Le fichier, même vidé, est persistant sur le disque. Il n'est pas nécessairement accessible en tant que fichier car ce peut être une clé de registre par exemple sur Windows :</p>
	<ul>
		<li>ouvrir un terminal <code>cmd.exe</code>, taper <code>regedit</code>,</li>
		<li>chercher dans <code>Edit &gt; Find</code> le nom du <code>Product Name</code> tel qu’il apparaît dans les <code>Project Settings &gt; Player</code> d’Unity et ne sélectionner que des <code>Keys</code>,</li>
		<li>la valeur apparaît à droite. <code>Clic droit &gt; Modify</code> et passer en <code>Decimal</code>,</li>
		<li>le nombre 34 est devenu lisible.</li>
	</ul>
</section>
<footer>
	<p>Le 29-03-2021</p>
</footer>
<script src="../../js/testParent.js"></script>
