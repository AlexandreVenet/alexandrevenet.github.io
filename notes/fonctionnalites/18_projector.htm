<section>
	<h1>Projector</h1>
	<p lass="couleurGris">Les lumières peuvent projeter une image. Unity propose le même procédé sans passer par une lumière : le composant <i>Projector</i>.</p>
	<a href="https://docs.unity3d.com/Manual/class-Projector.html" class="lien" title="Manual : Projector" target="_blank">Manual : projector</a>
	<div class="blocSommaire">
		<p>Sommaire</p>
		<ol id="sommaire">
			<li><a href="#presentation">Présentation</a></li>
			<li><a href="#vignette">La vignette</a></li>
			<li><a href="#attenuation">L'atténuation</a></li>
		</ol>
	</div>
</section>
<section id="presentation">
	<h2>Présentation</h2>
	<p>Le composant <code>Projector</code> permet de réaliser une projection de matériau sur tout objet entrant dans son <i>frustum</i>. Ce composant n'est compatible qu'avec le <i>Build-in Render Pipeline</i></p>
	<p>Ce composant requiert un <i>shader</i> <i><strong>Projector/Multiply</strong></i> spécifique, qu'Unity a déjà réalisé, sans quoi le composant ne fonctionne pas. Pour obtenir cet <i>asset</i>, rendez-vous dans l'<i>Asset Store</i> au <i>package</i> <i><strong>Standard Assets</strong></i>.</p>
	<a href="https://assetstore.unity.com/packages/essentials/asset-packs/standard-assets-for-unity-2018-4-32351" class="lien" title="Standard Assets" target="_blank">Standard Assets sur l'AssetStore</a>
	<p>Ce <i>shader</i> fait appel à une texture qui sert de <strong>vignette</strong> (<i>cookie</i>) et une autre pour l'<strong>atténuation</strong> (<i>falloff</i>). On peut utiliser le <i>prefab</i> d'exemple du <i>package</i> d'Unity ou bien utiliser des textures personnelles.</p>
	<p>Paramètres :</p>
	<ul>
	  <li><code>Near Clip Plane</code> : le plan <strong>à partir duquel calculer</strong> la projection,</li>
	  <li><code>Far Clip Plane</code> : le plan <strong>à partir duquel plus rien</strong> ne sera projeté,</li>
	  <li><code>Field of View</code> : en projection <strong>perspective</strong>, c'est l'<strong>ouverture</strong> du <i>frustum</i>,</li>
	  <li><code>Aspect Ratio</code> : changer le** rapport longueur/profondeur** du <i>frustum</i>,</li>
	  <li><code>Orthographic</code> : en projection <strong>orthographique</strong>, les droites du <i>frustum</i> sont <strong>parallèles</strong>,</li>
	  <li><code>Material</code> : le <strong>matériau</strong> à projeter,</li>
	  <li><code>Ignore Layers</code> : le <i>layer</i> utilisé pour <strong>exclure des objets</strong> (la projection ne se fera pas sur eux s'ils sont pourtant dans le <i>frustum</i>).</li>
	</ul>
</section>
<section id="vignette">
	<h2>La vignette</h2>
	<p>Quelle <strong>vignette</strong> (<i>cookie</i>) utiliser ?</p>
	<p>L'image :</p>
	<ul>
	  <li>créer une image carré, aux dimensions multiples de 2 pour optimisation,</li>
	  <li>remplir le fond de blanc et ajouter une forme au milieu,</li>
	  <li>enregistrer dans un format prenant en charge la transparence (PNG par exemple) même si l'image ne présente pas de zone transparente.</li>
	</ul>
	<p>Paramètres d'import : utiliser les paramètres par défaut et utiliser ce qui suit.</p>
	<ul>
	  <li><code>Alpha Source</code> : <code>Input Texture Alpha</code> ou <code>from Gray Scale</code>.</li>
	  <li>Cocher <code>Border Mipmaps</code>.</li>
	  <li><code>Wrap Mode</code> : <code>Clamp</code>.</li>
	  <li><code>Compression</code> : <code>None</code>.</li>
	</ul>
</section>
<section id="attenuation">
	<h2>L'atténuation</h2>
	<p>L'<strong>atténuation</strong> est représentée par une image avec un <strong>dégradé de gauche à droite du blanc au noir</strong>.</p>
	<p><strong>Attention</strong> : cette image doit présenter une <strong>droite verticale noire sur toute la hauteur à l'extrême gauche</strong>. Pourquoi ? Parce que (surprise) <code>Projector</code> effectue sa projection aussi au-dessus <strong>dans la direction opposée</strong> au <code>Near Clip Plane</code>.</p>
	<p>Mais là encore <strong>attention</strong> : une largeur de 1 pixel ne suffit pas. Il semble en fait que la largeur de cette colonne noire dépendent des dimensions de l'image (<strong>à vérifier</strong>). Par exemple, pour une image de 256 x 256 pixels, une colonne noire de 32 pixels de large (le reste étant occupé par le dégradé blanc-noir) permet une bonne atténuation de la vignette sur la longueur du <i>frustum</i>.</p>
</section>
<footer>
	<p>Le 12-04-2021</p>
</footer>
<script src="../../js/testParent.js"></script>
