<section>
	<h1>Editeurs C#</h1>
	<p class="couleurGris">Utiliser <strong>Visual Studio Community 2019</strong> ou <strong>Visual Studio Code</strong> avec Unity.</p>
	<div class="blocSommaire">
		<p>Sommaire</p>
		<ol id="sommaire">
			<li><a href="#vs">Visual Studio Community 2019</a></li>
			<li><a href="#vsc">Visual Studio Code</a></li>
		</ol>
	</div>
</section>
<section id="vs">
	<h2>Visual Studio Community 2019</h2>
	<p>En 2020, Visual Studio est installé par défaut avec Unity, <strong>mais</strong> les deux applications peuvent ne pas être liées automatiquement. Dans ce cas, pour les lier, aller dans : <code>Edit > Preferences > External tool > External script editor</code> et modifier la valeur si elle ne convient pas.</p>
	<p>28/11/2020 : Visual Studio Community 2019 est la solution installée par défaut. <strong>Mais</strong> pour exporter (<i>build</i>) pour Windows, il faut <strong>en plus</strong> installer le <strong><i>SDK Windows 10</i></strong> :</p>
	<a classe="lien" title="SDK Windows 10" target="_blank" href="https://developer.microsoft.com/fr-fr/windows/downloads/windows-10-sdk"></a>
	<p>Appliquer un <strong>format d'indentation</strong> à tout le document avec menu <code>Click Edit > Advanced > Format document</code>.</p>
	<p>Pour que <code>CTRL+’</code> ouvre le navigateur avec la <strong>documentation officielle</strong> :</p>
	<ul>
		<li>menu <code>Outils > Options > Environnement > Clavier</code>,</li>
		<li>chercher « Unity »,</li>
		<li>cliquer sur <code>Aide.InformationsderéférencesurAPIUnity</code>,</li>
		<li>dans le champ à côté de <code>Global</code>, faire le raccourci <code>CTRL+’</code> puis cliquer assigner,</li>
		<li>dans le menu déroulant juste au-dessus, choisir le raccourci voulu si non sélectionné.</li>
	</ul>
<p>On peut écrire des <strong>regions</strong> pour organiser des blocs de code à <strong>réduire/développer</strong>. Par exemple pour classer ce qui est <i>Private</i>, </i>Show in inspector</i>, ou <i>Unity lifecycle</i>... <a href="https://docs.microsoft.com/fr-fr/dotnet/csharp/language-reference/preprocessor-directives/preprocessor-region" title="Préprocesseurs C#" target="_blank">Plus d'infos sur les préprocesseur chez Microsoft.</a></p>
<pre><code>
#region Titre de ma région
//...
#endregion

</code></pre>
</section>
<section id="vsc">
	<h2>Visual Studio Code</h2>
	<p>On peut aussi utiliser Visual Studio Code. Cela requiert .NET Code SDK.</p>
	<a class="lien" href="https://code.visualstudio.com/docs/other/unity" target="_blank" title="Unity et Visual Studio Code">Unity et Visual Studio Code</a>
	<p>Pour l'installation, dans le cas où Unity ne procède à aucune référence automatique :</p>
	<ul>
		<li>se souvenir du lieu de l'installation de VSCode,</li>
		<li>en option, ne cocher que la case du changement de PATH (si le reste est intéressant, cocher),</li>
		<li>redémarrer la machine après installation,</li>
		<li>dans Unity : menu <code>Edit > Preferences > External tools > External script editor</code> et modifier la valeur du menu si elle ne convient pas. Et si VS Code n'apparaît pas, cliquer sur <code>Browse</code> et taper le lien dont on se souvient,</li>
		<li>lancer VSCode pour qu'il prenne en charge les éléments d'Unity,</li>
		<li>une fois fait, créer un fichier C# dans un projet Unity pour tester si tout fonctionne. Dans VSCode, en sortie, il peut encore y avoir des téléchargements de dépendances, donc attendre que cela se fasse,</li>
		<li>maintenant, dans Unity, menu <code>Window > Package Manager</code> puis chercher <code>Visual Studio Code Editor</code>. Ce package permet la compatibilité des deux logiciels. S'il y a des bugs, penser à le mettre à jour.</li>
		</li>
	</ul>
	<p>VSCode est très modulable mais ne gère pas le C# d'Unity tout seul. Il faut donc intaller des packages additionnels, par exemple pour avoir <strong>toutes</strong> les commandes en <i>intellisense</i>, debugger... :</p>
	<ul>
		<li>l'ensemble d'extensions <strong>unity3d-pack</strong>,</li>
		<li>Debugger for Unity,</li>
		<li>Unity Code Snippets.</li>
	</ul>
</section>
<footer>
	<p>Le 27-01-2021</p>
</footer>
<script src="../../js/testParent.js"></script>
